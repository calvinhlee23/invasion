{"version":3,"sources":["webpack:///webpack/bootstrap b5bb724c9228627f602e","webpack:///./lib/root.js","webpack:///./lib/game.js","webpack:///./lib/image_constants.js","webpack:///./lib/drone.js","webpack:///./lib/game_parts.js","webpack:///./lib/cannon_ball.js","webpack:///./lib/target.js"],"names":["GAME_KEYS","document","addEventListener","w","window","foundRequestAnimationFrame","requestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","cb","setTimeout","stage","getElementById","ctx","getContext","game","level","Object","keys","forEach","k","move","key","drone","fire","GameScript","setUp","executing","step","protocal","bind","UI_Tab","button","createElement","successFail","className","status","textContent","appendChild","e","remove","root","Game","args","pos","allGameParts","cannonBalls","targets","loadedImages","okToClear","fireAni","lvlInd","bullInd","tarInd","bulSpd","name","image","Image","src","cannonBallSpeed","Math","random","floor","numTargets","numCannonBallsLeft","j","target","push","cannonBall","current_height","speed","length","clearRect","clientWidth","clientHeight","imgObj","drawImage","fireObj","concat","gp","type","split","drawIfFullyLoaded","i","parseInt","splice","onTarget","removeOutOfBoundsCannonBalls","checkIfBulletOnTarget","drawAllGameParts","updateStatus","levelUp","ImageConstants","Drone","vel","x","y","GameParts","CannonBall","horizontal_vel","vertical_vel","setInterval","pos1","pos2","xSqr","pow","ySqr","distance","sqrt","sumRadius","TARGET_FIELD","MAX_HEIGHT","STARTING_HEIGHT","STARTING_WIDTH","MAX_WIDTH","Target","getRange","min","max"],"mappings":"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","file":"./bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap b5bb724c9228627f602e","import Game from './game';\n\nconst GAME_KEYS = {\n  \"up\": [0,-7.3],\n  \"down\": [0, 7.3],\n  \"left\": [-7.3,0],\n  \"right\": [7.3,0]\n};\n\n\n document.addEventListener(\"DOMContentLoaded\", () => {\n    var  w=window, foundRequestAnimationFrame  =  w.requestAnimationFrame ||\n    w.webkitRequestAnimationFrame || w.msRequestAnimationFrame ||\n    w.mozRequestAnimationFrame    || w.oRequestAnimationFrame  ||\n    function(cb) { setTimeout(cb,1000/60); } ;\n\n    window.requestAnimationFrame  = foundRequestAnimationFrame ;\n\n    var stage = document.getElementById(\"battle-ground\");\n    var ctx = stage.getContext(\"2d\");\n    var game = new Game({ctx: ctx, level: 1});\n\n  // binding keys\n    Object.keys(GAME_KEYS).forEach ((k) => {\n      let move = GAME_KEYS[k];\n      key(k, () => {game.drone.move(move);});\n    });\n    key(\"space\", () => {game.fire();});\n\n\n    class GameScript {\n      constructor(game) {\n        this.game = game;\n        game.setUp();\n      }\n\n      protocal () {\n        if (this.game.executing) {\n          this.game.step();\n          window.requestAnimationFrame(this.protocal.bind(this));\n        } else {\n\n          var UI_Tab = document.getElementById('UI_Tab');\n          var button = document.createElement(\"a\")\n          var successFail = document.createElement(\"a\");\n          successFail.className += \"success-fail\";\n          button.className += \"start\";\n          if (this.game.status === \"WON\" || game.status === \"NOT_STARTED\") {\n            if (this.game.status === \"WON\") {\n              successFail.textContent = \"Mission Success!\";\n            }\n              button.textContent = \"Start\";\n          } else {\n            successFail.textContent = \"Mission Fail! \";\n            button.textContent = \"Retry\";\n          }\n          UI_Tab.appendChild(successFail);\n          UI_Tab.appendChild(button);\n\n          // ensures the last animation is played\n          this.game.step();\n\n          button.addEventListener(\"click\", (e) => {\n            this.game.executing = true;\n            this.game.setUp();\n            this.protocal();\n            successFail.remove();\n            button.remove();\n          });\n        }\n      }\n  }\n\n    var root = new GameScript(game);\n    root.protocal();\n});\n\n\n\n// WEBPACK FOOTER //\n// ./lib/root.js","import ImageConstants from './image_constants';\nimport Drone from './drone';\nimport CannonBall from './cannon_ball';\nimport Target from './target';\n\nclass Game {\n  constructor (args) {\n    this.ctx = args.ctx;\n    this.level = args.level;\n    this.drone = new Drone({ctx: this.ctx, pos: [0, 250]});\n    this.executing = false;\n    this.status = \"NOT_STARTED\";\n    this.allGameParts = [];\n    this.cannonBalls = [];\n    this.targets = [];\n    this.loadedImages = [];\n    this.okToClear = false;\n    this.stage = document.getElementById(\"battle-ground\");\n    this.fireAni = [];\n    this.lvlInd = document.getElementById(\"level\");\n    this.bullInd = document.getElementById(\"numCannonBallsLeft\");\n    this.tarInd = document.getElementById(\"remainingTargets\");\n    this.bulSpd = document.getElementById(\"speed\");\n  }\n\n  setUp () {\n    Object.keys(ImageConstants).forEach( (name) => {\n      var image  = new Image();\n      image.src = ImageConstants[name];\n      image.addEventListener(\"load\", () => {\n      });\n    });\n    this.lvlInd.textContent = this.level;\n    this.bullInd.textContent = this.level*2 + 2;\n    this.tarInd.textContent = this.level*2;\n    this.cannonBallSpeed = (Math.random() * 25);\n    if (this.cannonBallSpeed <= 10) {\n      this.cannonBallSpeed += 10;\n    }\n    this.cannonBallSpeed = Math.floor(this.cannonBallSpeed);\n    this.bulSpd.textContent = `${this.cannonBallSpeed *10}m/s`;\n\n    this.targets = [];\n    this.numTargets = this.level*2;\n    this.numCannonBallsLeft = this.level*2 + 2;\n    for (var j = 0; j < this.numTargets; j++) {\n      var target = new Target({ctx: this.ctx, pos: []});\n      this.targets.push(target);\n    }\n  }\n\n  // introduces a new cannonball to the field\n  fire () {\n    if (this.numCannonBallsLeft > 0) {\n      this.numCannonBallsLeft -= 1;\n      var cannonBall = new CannonBall({ctx: this.ctx, current_height: this.drone.pos[1],\n                                       speed: this.cannonBallSpeed});\n      this.cannonBalls.push(cannonBall);\n    }\n  }\n\n  drawIfFullyLoaded() {\n    if (this.loadedImages.length === this.allGameParts.length) {\n      this.ctx.clearRect(0,0, this.stage.clientWidth, this.stage.clientHeight);\n      this.loadedImages.forEach ((imgObj) => {\n        this.ctx.drawImage(imgObj.image, imgObj.pos[0], imgObj.pos[1]);\n      });\n      this.fireAni.forEach((fireObj) => {\n        this.ctx.drawImage(fireObj.image, fireObj.pos[0]+10, fireObj.pos[1]-10);\n      });\n      this.loadedImages = [];\n    }\n  }\n\n  drawAllGameParts() {\n    this.allGameParts = [].concat([this.drone], this.targets, this.cannonBalls);\n    this.allGameParts.forEach((gp) => {\n      if (gp.type.split(\"/\").length === 1) {\n        gp.type += \"/1\";\n      } else {\n        gp.type = gp.type.split(\"/\")[0];\n      }\n      var image = new Image();\n      image.src = ImageConstants[gp.type];\n      image.addEventListener(\"load\",  () => {\n        var imgObj = {image: image, pos: gp.pos};\n        this.loadedImages.push(imgObj);\n        this.drawIfFullyLoaded();\n      });\n    });\n  }\n\n  removeOutOfBoundsCannonBalls () {\n    for (var i = 0; i < this.cannonBalls.length; i++) {\n      var pos = this.cannonBalls[i].pos;\n      if (pos[0] > this.stage.clientWidth || pos[1] > this.stage.clientHeight) {\n        this.bullInd.textContent = parseInt(this.bullInd.textContent) -1;\n        this.cannonBalls.splice(i, 1);\n\n        return;\n      }\n    }\n  }\n\n  checkIfBulletOnTarget() {\n    for (var i = 0; i < this.cannonBalls.length; i++) {\n      var cannonBall = this.cannonBalls[i];\n      for (var j = 0; j < this.targets.length; j++) {\n        var target = this.targets[j];\n        if (cannonBall.onTarget(target)) {\n          var image  = new Image();\n          image.src = ImageConstants[\"fire\"];\n          image.addEventListener(\"load\", () => {\n            this.fireAni.push({image: image, pos: target.pos});\n            window.setTimeout(() => {this.fireAni.splice(0,1);}, 400);\n          });\n\n          this.cannonBalls.splice(i, 1);\n          this.targets.splice(j, 1);\n          this.bullInd.textContent = parseInt(this.bullInd.textContent) -1;\n          this.tarInd.textContent = parseInt(this.tarInd.textContent) -1;\n          return;\n        }\n      }\n    }\n  }\n\n  step () {\n    this.removeOutOfBoundsCannonBalls();\n    this.checkIfBulletOnTarget();\n    this.drawAllGameParts();\n    this.updateStatus();\n  }\n\n  levelUp () {\n    this.level += 1;\n    this.targets = [];\n    this.executing = false;\n  }\n\n  updateStatus() {\n    if (this.executing) {\n      if (this.targets.length === 0) {\n        this.status = \"WON\";\n        this.levelUp();\n        this.executing = false;\n      } else if (this.numCannonBallsLeft === 0 && this.targets.length !== 0) {\n        if (this.cannonBalls.length === 0 ) {\n          this.status = \"LOST\";\n          this.executing = false;\n        }\n      }\n    } else {\n      this.status = \"NOT_STARTED\";\n    }\n  }\n\n}\n\nexport default Game;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/game.js","const ImageConstants = {\n  \"DRONE\": \"image/drone.png\",\n  \"DRONE/1\": \"image/drone1.png\",\n  \"CANNON_BALL\": \"image/bullet.png\",\n  \"CANNON_BALL/1\": \"image/bullet1.png\",\n\n  \"TARGET\": \"image/target1.png\",\n  \"TARGET/1\": \"image/target1.png\",\n  \"fire\": \"image/fire.png\"\n};\n\nexport default ImageConstants;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/image_constants.js","import GameParts from './game_parts';\n\nimport ImageConstants from './image_constants';\n\nclass Drone extends GameParts {\n  constructor(args) {\n    super(args);\n    this.type = \"DRONE\";\n  }\n\n  move(vel) {\n    var x = this.pos[0] + vel[0];\n    var y = this.pos[1] + vel[1];\n    if (x > 0 && x < 800) this.pos[0] = x;\n    if (y > 0 && y < 430) this.pos[1] = y;\n  }\n}\n\nexport default Drone;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/drone.js","import ImageConstants from './image_constants';\n\nclass GameParts {\n  constructor(args) {\n    this.ctx = args.ctx;\n    this.pos = args.pos;\n  }\n}\nexport default GameParts;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/game_parts.js","import ImageConstants from './image_constants';\nimport GameParts from './game_parts';\n\nclass CannonBall extends GameParts {\n  constructor(args) {\n    super(args);\n    // this adjusts as i choose the image of the drone;\n    this.ctx = args.ctx;\n    this.type = \"CANNON_BALL\";\n    this.pos = [35, args.current_height + 30];\n    this.horizontal_vel = args.speed;\n    // 60 frames per sec, change in velocity reaches 9.81 after a sec.\n    this.vertical_vel = 0;\n    setInterval(()=> {this.vertical_vel += (9.81/60);}, (1000/60));\n    setInterval(()=> {this.move();}, (1000/60));\n  }\n\n  move() {\n    this.pos[0] += this.horizontal_vel;\n    this.pos[1] += this.vertical_vel;\n  }\n\n  onTarget(target) {\n  // below positions are center of the target and the cannonball\n   var pos1 = [this.pos[0] + 5, this.pos[1] + 5 ];\n   var pos2 = [target.pos[0] + 10, target.pos[1] + 10];\n   let xSqr = Math.pow((pos1[0] - pos2[0]), 2);\n   let ySqr = Math.pow((pos1[1] - pos2[1]), 2);\n   let distance = Math.sqrt((xSqr + ySqr));\n\n   // target = 20x20, cannon = 10x10\n   var sumRadius = 30;\n   if (distance < sumRadius) {\n     return true;\n   } else {\n     return false;\n   }\n  }\n\n}\n\nexport default CannonBall;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/cannon_ball.js","import GameParts from './game_parts';\nimport ImageConstants from './image_constants';\n\nconst TARGET_FIELD = {\n  MAX_HEIGHT: 450,\n  STARTING_HEIGHT: 350,\n  STARTING_WIDTH: 220,\n  MAX_WIDTH: 800\n};\n\nclass Target extends GameParts {\n  constructor(args) {\n    super(args);\n    this.pos = [this.getRange(TARGET_FIELD.STARTING_WIDTH,\n                              TARGET_FIELD.MAX_WIDTH),\n                this.getRange(TARGET_FIELD.STARTING_HEIGHT,\n                              TARGET_FIELD.MAX_HEIGHT)];\n    this.type = \"TARGET\";\n  }\n\n  getRange(min, max) {\n   let pos = Math.floor((Math.random() * (max-min) + min), -2);\n   return pos;\n  }\n}\n\nexport default Target;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/target.js"],"sourceRoot":""}